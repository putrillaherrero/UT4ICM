<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Ejercicio 3 - Sesión 29</title>
    <link rel="stylesheet" href="style3.css">
</head>
<body>
    <h1>Ejercicio 3 - Sesión 29</h1>
    <h2>Probar compatibilidad</h2>

    <div id="equipo"></div>    

    <button onclick="comprobarCompatibilidad()">Comprobar</button>
    <button onclick="trabajarElementoEquipo()">Trabajar</button>
    
    <script>
        function comprobarCompatibilidad() {
            if (typeof(Storage) !== "undefined") { 
                window.alert("El navegador soporta almacenamiento local"); 
            } 
            else { 
                window.alert("El navegador no soporta almacenamiento local"); 
            }
        }

        function trabajarElementoEquipo() {
            // Primero comprobamos la compatibilidad del navegador 
            if (typeof(Storage) !== "undefined") {
                //Almacenamos 
                localStorage.setItem("equipo", "Deportivo"); 
                //Obtenemos los datos 
                document.getElementById("equipo").innerHTML = localStorage.getItem("equipo"); 
            } 
            else { 
                document.getElementById("equipo").innerHTML = "El navegador no es compatible con almacenamiento local"; 
            }
        }  

    </script>

    <h2>Cuantos clicks</h2>
    <div id="elementoAlmacen2"></div>

    <button onclick="cuantosClicks()">Cuenta</button>

    <script> 
        function cuantosClicks() { 
            if(typeof(Storage) !== "undefined") { if (sessionStorage.cuentadeclicks) {
                //Si existe el contador, lo incrementamos en 1 
                sessionStorage.cuentadeclicks = Number(sessionStorage. cuentadeclicks)+1; 
                //Realizamos conversión a número para evitar problemas. 
                //Los datos siempre se almacenan como cadena y requieren conversión. 
                } 
                else { 
                    // Si no existe el contador, lo creamos 
                    sessionStorage.cuentadeclicks = 1; 
                } 
                document.getElementById("elementoAlmacen2").innerHTML = "Has hecho clic en el botón: " 
                + sessionStorage. cuentadeclicks + " veces en esta sesión."; 
                } 
                else { 
                    document.getElementById("elementoAlmacen2").innerHTML = "El navegador no soporta almacenamiento local"; 
                } 
            } 
        </script>
</body>
</html>